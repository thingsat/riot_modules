

INVOKE_CALLBACKS ?= 1
PERIODIC_CALLBACK_IN_SEC ?= 20

CFLAGS += -DINVOKE_CALLBACKS=$(INVOKE_CALLBACKS)
CFLAGS += -DPERIODIC_CALLBACK_IN_SEC=$(PERIODIC_CALLBACK_IN_SEC)


# Period for RTC resync with GNSS (TODO)

# Resync every 30 minutes
MISSION_RTC_RESYNC_PERIOD_SEC ?= 1800


# Transmit parameters

MISSION_PREAMBLE_LEN ?= 8
MISSION_SF ?= 7
MISSION_RF_POWER ?= 12

CFLAGS += -DMISSION_PREAMBLE_LEN=$(MISSION_PREAMBLE_LEN)
CFLAGS += -DMISSION_SF=$(MISSION_SF)
CFLAGS += -DMISSION_RF_POWER=$(MISSION_RF_POWER)


# List of message types to send periodically

MISSION_MESSAGES_TYPE ?= \{RANGE1_PAYLOAD,TELEMETRY_PAYLOAD,APRS_PAYLOAD,EWSS_PAYLOAD}\
# Every 4 messages 
MISSION_XOR_REDUNDANCY ?= 4

MISSION_EWSS_PAYLOAD ?= 0A0A0A0A



CFLAGS += -DMISSION_MESSAGES_TYPE=$(MISSION_MESSAGES_TYPE)
CFLAGS += -DMISSION_XOR_REDUNDANCY=$(MISSION_XOR_REDUNDANCY)
CFLAGS += -DMISSION_EWSS_PAYLOAD=$(MISSION_EWSS_PAYLOAD)


# If ENDPOINT_DEVADDR is defined, ENDPOINT_DEVADDR replace the devaddr defined for the SX130x EUI of the concentrator
# ENDPOINT_DEVADDR ?= 0xfc001234
# ENDPOINT_GWEUI ?= 0x0000000000000000
# ENDPOINT_NWKSKEY ?= \{0xBA,0xBE,0xCA,0xFE,0x12,0x34,0x56,0x78,0xBA,0xBE,0xCA,0xFE,0x12,0x34,0x56,0x78\}
# ENDPOINT_APPSKEY ?= \{0xCA,0xFE,0xBA,0xBE,0x12,0x34,0x56,0x78,0xCA,0xFE,0xBA,0xBE,0x12,0x34,0x56,0x78\}
# CFLAGS += -DENDPOINT_DEVADDR=$(ENDPOINT_DEVADDR)
# CFLAGS += -DENDPOINT_GWEUI=$(ENDPOINT_GWEUI)
# CFLAGS += -DENDPOINT_NWKSKEY=$(ENDPOINT_NWKSKEY)
# CFLAGS += -DENDPOINT_APPSKEY=$(ENDPOINT_APPSKEY)

